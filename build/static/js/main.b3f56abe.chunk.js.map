{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons_2.js","App.js","index.js"],"names":["Filter","props","handleChange","className","onChange","filteredList","map","person","key","id","name","number","PersonForm","value","values","Person","deletePerson","onClick","Persons","persons","handleDeletePerson","Notification","message","error","baseUrl","axios","get","then","response","data","newObject","post","delete","updatedObj","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filteredNumbers","setfilteredNumbers","errorMessage","setErrorMessage","notification","setNotification","useEffect","services","event","filt","target","toLowerCase","filter","includes","onSubmit","preventDefault","i","length","ifContactExists","window","confirm","setTimeout","catch","console","log","confirmWindow","Math","floor","random","concat","type","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b3f56abe.chunk.js","sourcesContent":["import React from 'react'\nimport '../index.css'\n\nfunction Filter(props){\n  const {handleChange}=props\n\n  // console.log(props.filteredList)\n  // console.log(tempFilt)\n  return (\n  <div className='Filtered'>\n    <div>\n      filter shown with <input                 \n                          onChange={handleChange}\n                        />\n      </div>\n      <br/>\n\n      { \n        props.filteredList.map(\n          person => <li key={person.id}>{person.name} {person.number}</li>\n          )\n      }\n\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\n\nfunction PersonForm(props){\n\n  return (\n    <div>\n      <div>\n        name:      <input \n                value={props.values[0]}\n                onChange={props.handleChange[0]}\n              />\n      </div>\n      <br />\n      <div>\n        number:    <input\n                value={props.values[1]}\n                onChange={props.handleChange[1]}\n                />\n      </div>\n      \n    </div>\n\n  )\n}\nexport default PersonForm","\nimport React from 'react'\nimport '../index.css'\n\nconst Person = (props, deletePerson) => {\n    return (\n      <li>{props.name}  {props.number} <button className='DelBtn' onClick={props.deletePerson}>delete</button></li>\n    )\n  }\n\n  export default Person","import React from 'react'\nimport Person from './Person'\n// import axios from 'axios'\n\nconst Persons = (props) => {\n\n      return (\n        <div>\n          {\n           props.persons.map(\n              person => \n                <Person key={person.id} name={person.name} number={person.number} deletePerson={props.handleDeletePerson(person.name, person.id)} />      \n            )   \n          }\n        </div>\n        )\n   \n  \n}\nexport default Persons","import React from 'react'\nimport '../index.css'\n\nfunction Notification(props){\n\treturn (\n\t\t<div>\n\t\n\t\t\t{\n\t\t\t\tprops.message === null ?\n\t\t\t\t\t<div>{/*.*/}</div>\n\t\t\t\t\t:\n\t\t\t\t\t<div className='Notify'>\n\t\t\t\t\t\t{props.message}\n\t\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t\n\t\t\t{\n\t\t\t\tprops.error === null ?\n\t\t\t\t\t<div>{/*.*/}</div>\n\t\t\t\t\t:\n\t\t\t\t\t<div className='Error'>\n\t\t\t\t\t\t{props.error}\n\t\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response=>response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl,newObject)\n  return request.then(response=>response.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response=>response.data)\n};\n\nconst update = (updatedObj) => {\n  const request = axios.put(`${baseUrl}/${updatedObj.id}`,updatedObj);\n  return request.then(response=>response.data)\n};\n\nexport default { getAll, create, deletePerson, update}","import React, { useState , useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport services from './services/persons_2'\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName,   setNewName ] = useState('')\n  const [ newNumber, setNewNumber  ] = useState('') \n  const [ filteredNumbers,  setfilteredNumbers] = useState([])\n  const [ errorMessage, setErrorMessage] = useState(null);\n  const [ notification, setNotification] = useState(null);\n\n  var updatedObj={}\n\n  useEffect(()=>{\n    services\n    .getAll()\n    .then((response)=>{\n      setPersons(response)\n    })\n  },[])\n\n  const addName = (event) =>{ \n    setNewName(event.target.value)\n  }\n  const addNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  function setInput(event) { \n    const filt= event.target.value.toLowerCase()\n    if (filt==='')  {\n      setfilteredNumbers([])\n      return\n    }\n   \n  const  filteredNumbers = persons.filter(function(person){\n      var curName= person.name.toLowerCase()\n      var result = curName.includes(filt)\n      if (!result) {      \n        return null\n      } \n      return person\n    })\n    setfilteredNumbers(filteredNumbers)\n  }\n  \n\n  const ifContactExists = (newName) => {\n    for(var i=0;i<persons.length;i++){ \n      if (persons[i].name === newName){ \n        updatedObj={...persons[i],number:newNumber} //only update number,keep id intact\n        return true\n      }\n    }\n    return false\n  }\n\n  const confirmWindow= (updatedObj)=>{\n    if(window.confirm(`${updatedObj.name} is already added to phonebook, replace the old number with a new one?`))\n      { \n        services\n        .update(updatedObj)\n        .then((response)=>{\n            setPersons(persons.map(person=>person.name !== updatedObj.name? person : response))\n            setNotification(`updated ${newName}`)\n            setTimeout(()=>{\n              setNotification(null)\n            },2000)\n          })\n        .catch(error=>{\n          setErrorMessage(`Information of ${newName} is already been removed from server`)\n\n          console.log('error in confirmWindow')\n        })\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n        \n      }\n    }\n\n  const addPerson = (event) => {\n    event.preventDefault()   \n    \n    ifContactExists(newName) ?\n      confirmWindow(updatedObj)\n      :\n      services\n          .create({\n            name  : newName,\n            number: newNumber,\n             id   : Math.floor(Math.random() * 1000) + persons.length\n          })\n          .then(response=>{\n            setPersons(persons.concat(response))\n            setNotification(`added ${newName}`)\n            setTimeout(()=>{\n              setNotification(null)\n            },2000)\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 2000)\n          })\n\n    setNewName('')\n    setNewNumber('')    \n  }\n\n  const handleDeletePerson = (name, id) => {\n    return () => {\n      if (window.confirm(`Delete ${name} ?`)) {\n        services\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(n => n.id !== id))\n            setNotification(`Deleted ${name}`)\n            setTimeout(()=>{\n              setNotification(null)\n            },2000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.name !== name));\n            setErrorMessage(`Information of ${name} is already been removed from server`);\n          });\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1><br/>\n      <Notification message={notification} error={errorMessage}/>\n      <Filter filteredList={filteredNumbers} handleChange={setInput}/>\n      \n        \n      <form onSubmit={addPerson}>\n        <h2>add a new</h2>\n        <PersonForm  values={[newName,newNumber]} handleChange={[addName,addNumber]}/>\n        <button className='addBtn' type=\"submit\">add</button>\n        \n      </form>\n      <h2>Numbers </h2>\n      <Persons \n        persons={persons} \n        handleDeletePerson={handleDeletePerson}\n      />\n      \n    </div>\n  )\n}\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}