(this.webpackJsonpcourse_contents=this.webpackJsonpcourse_contents||[]).push([[0],{16:function(e,n,t){e.exports=t(39)},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),u=t.n(c),l=t(15),o=t(2);t(4);var i=function(e){var n=e.handleChange;return r.a.createElement("div",{className:"Filtered"},r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:n})),r.a.createElement("br",null),e.filteredList.map((function(e){return r.a.createElement("li",{key:e.id},e.name," ",e.number)})))};var m=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,"name:      ",r.a.createElement("input",{value:e.values[0],onChange:e.handleChange[0]})),r.a.createElement("br",null),r.a.createElement("div",null,"number:    ",r.a.createElement("input",{value:e.values[1],onChange:e.handleChange[1]})))},s=function(e,n){return r.a.createElement("li",null,e.name,"  ",e.number," ",r.a.createElement("button",{className:"DelBtn",onClick:e.deletePerson},"delete"))},f=function(e){return r.a.createElement("div",null,e.persons.map((function(n){return r.a.createElement(s,{key:n.id,name:n.name,number:n.number,deletePerson:e.handleDeletePerson(n.name,n.id)})})))};var d=function(e){return r.a.createElement("div",null,null===e.message?r.a.createElement("div",null):r.a.createElement("div",{className:"Notify"},e.message),null===e.error?r.a.createElement("div",null):r.a.createElement("div",{className:"Error"},e.error))},h=t(3),b=t.n(h),E="/api/persons",v=function(){return b.a.get(E).then((function(e){return e.data}))},p=function(e){return b.a.post(E,e).then((function(e){return e.data}))},g=function(e){return b.a.delete("".concat(E,"/").concat(e)).then((function(e){return e.data}))},j=function(e){return b.a.put("".concat(E,"/").concat(e.id),e).then((function(e){return e.data}))},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),s=Object(o.a)(u,2),h=s[0],b=s[1],E=Object(a.useState)(""),w=Object(o.a)(E,2),O=w[0],C=w[1],y=Object(a.useState)([]),k=Object(o.a)(y,2),N=k[0],S=k[1],D=Object(a.useState)(null),T=Object(o.a)(D,2),P=T[0],L=T[1],B=Object(a.useState)(null),I=Object(o.a)(B,2),J=I[0],M=I[1],_={};Object(a.useEffect)((function(){v().then((function(e){c(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement("br",null),r.a.createElement(d,{message:J,error:P}),r.a.createElement(i,{filteredList:N,handleChange:function(e){var n=e.target.value.toLowerCase();if(""!==n){var a=t.filter((function(e){return e.name.toLowerCase().includes(n)?e:null}));S(a)}else S([])}}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){for(var n=0;n<t.length;n++)if(t[n].name===e)return _=Object(l.a)({},t[n],{number:O}),!0;return!1}(h)?function(e){window.confirm("".concat(e.name," is already added to phonebook, replace the old number with a new one?"))&&(j(e).then((function(n){c(t.map((function(t){return t.name!==e.name?t:n}))),M("updated ".concat(h)),setTimeout((function(){M(null)}),2e3)})).catch((function(e){L("Information of ".concat(h," is already been removed from server")),console.log("error in confirmWindow")})),setTimeout((function(){L(null)}),2e3))}(_):p({name:h,number:O,id:Math.floor(1e3*Math.random())+t.length}).then((function(e){c(t.concat(e)),M("added ".concat(h)),setTimeout((function(){M(null)}),2e3)})).catch((function(e){L(e.response.data.error),setTimeout((function(){L(null)}),2e3)})),b(""),C("")}},r.a.createElement("h2",null,"add a new"),r.a.createElement(m,{values:[h,O],handleChange:[function(e){b(e.target.value)},function(e){C(e.target.value)}]}),r.a.createElement("button",{className:"addBtn",type:"submit"},"add")),r.a.createElement("h2",null,"Numbers "),r.a.createElement(f,{persons:t,handleDeletePerson:function(e,n){return function(){window.confirm("Delete ".concat(e," ?"))&&(g(n).then((function(){c(t.filter((function(e){return e.id!==n}))),M("Deleted ".concat(e)),setTimeout((function(){M(null)}),2e3),b(""),C("")})).catch((function(n){c(t.filter((function(n){return n.name!==e}))),L("Information of ".concat(e," is already been removed from server"))})),setTimeout((function(){L(null)}),2e3))}}}))};u.a.render(r.a.createElement(w,null),document.getElementById("root"))},4:function(e,n,t){}},[[16,1,2]]]);
//# sourceMappingURL=main.b3f56abe.chunk.js.map